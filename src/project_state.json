{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 39,
  "summary": "User requests removing Internet Identity login entirely and replacing it with a simple username/login ID + password authentication system, with an Admin section to manage Operator/Manager login IDs and passwords.",
  "architectural_notes": [
    "User requested an alternative authentication approach: an Admin-managed userID/password login and credential management page for Operators/Managers (in addition to or instead of Internet Identity).",
    "User requests password-based authentication: add \"Sign in as Admin\" on login with default credentials admin/pass; Admin can create userID/password for Managers and Operators via an admin page (conflicts with current Internet Identity-only direction).",
    "User explicitly requested switching to a proper password-based login system (username/password) for Admin/Manager access, instead of relying solely on Internet Identity role assignment.",
    "User requests removing the Internet Identity option entirely and switching to a username/loginID + password authentication system, with Admin managing Operator/Manager credentials in an admin section.",
    "Login screen should include an Admin panel/entry point; default Admin credentials must be username=admin and password=pass.",
    "Admin credentials management UI should include clear labels plus actions to reset password and disable/enable accounts.",
    "User requests Admin Authorization credentials be set to Login ID \"admin\" with password \"1234\" (instead of \"pass\")."
  ],
  "known_issues": [
    "Login page branding/theme changes are not appearing (login page not updated yet).",
    "Deployment/build is failing (deployment encountered an error; internal LLM/build error reported during attempted update).",
    "Requested changes to login flow/UI are not reflected; user still sees the earlier login experience and needs two distinct login options (Operator and Manager).",
    "Login page is showing a different logo than the one provided/expected (logo asset mismatch).",
    "User reports being unable to log in as Manager; manager UI/role assignment options are not visible/available in the app as expected.",
    "Admin panel/entry point is missing from the login screen; user requests adding it and setting default admin/pass credentials.",
    "User reports the Admin/password-based login is not accepting the password (\"password is not taking\").",
    "Admin is unable to create new login IDs even when logged in as Admin (backend/UI reports 'only admin can create IDs' incorrectly).",
    "After logging into the Admin profile with username/password, the app prompts again on the Admin Authorization page for a second password entry (double authorization prompt)."
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-implement-internet-identity-sign-in-and-role-based-access-for-two-user-types-operator-and-manager-and-optionally-a-department-user-role-if-needed-for-kaizen-execution-provide-an-admin-manager-only-ui-to-assign-roles-to-registered-principals-so-access-to-features-is-permissioned",
      "title": "Implement Internet Identity sign-in and role-based access for two user types: Operator and Manager (and optionally a Department user role if needed for Kaizen execution). Provide an admin/manager-only UI to assign roles to registered principals so access to features is permissioned.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-create-operator-facing-forms-to-submit-the-following-observation-types-q-susa-q-hazards-and-safety-hazards-each-submission-must-store-type-title-summary-detailed-description-optional-area-line-department-timestamp-and-submitter-principal-provide-a-list-view-with-filtering-by-type-date-status-and-a-detail-view-for-each-submission",
      "title": "Create operator-facing forms to submit the following observation types: Q SUSA, Q Hazards, and Safety Hazards. Each submission must store: type, title/summary, detailed description, optional area/line/department, timestamp, and submitter principal; provide a list view with filtering by type/date/status and a detail view for each submission.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-add-kaizen-suggestion-submission-for-operators-with-fields-title-problem-statement-suggested-improvement-expected-benefit-optional-department-area-and-timestamp-kaizen-items-must-have-a-lifecycle-status-submitted-approved-rejected-assigned-in-progress-implemented-and-closed",
      "title": "Add Kaizen suggestion submission for operators with fields: title, problem statement, suggested improvement, expected benefit, optional department/area, and timestamp. Kaizen items must have a lifecycle status: Submitted, Approved, Rejected, Assigned, In Progress, Implemented, and Closed.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-a-manager-approval-workflow-for-kaizen-managers-can-approve-or-reject-with-a-required-comment-reason-status-updates-must-be-written-server-side-and-reflected-immediately-in-the-ui-after-the-action-completes",
      "title": "Implement a manager approval workflow for Kaizen: managers can approve or reject with a required comment/reason; status updates must be written server-side and reflected immediately in the UI after the action completes.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-on-kaizen-approval-support-assignment-to-a-concerned-department-and-allow-department-assignees-to-fill-in-required-tools-materials-free-text-and-or-structured-list-track-who-assigned-it-assigned-department-and-required-tools-materials-entries-with-timestamps",
      "title": "On Kaizen approval, support assignment to a concerned department and allow department/assignees to fill in required tools/materials (free-text and/or structured list). Track who assigned it, assigned department, and required tools/materials entries with timestamps.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-after-kaizen-implementation-allow-uploading-one-or-more-photos-as-proof-photos-must-be-stored-in-the-backend-as-blobs-and-retrievable-for-display-on-the-kaizen-detail-page-with-basic-metadata-uploader-timestamp-filename-content-type",
      "title": "After Kaizen implementation, allow uploading one or more photos as proof. Photos must be stored in the backend (as blobs) and retrievable for display on the Kaizen detail page with basic metadata (uploader, timestamp, filename/content type).",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-add-usage-monitoring-to-detect-when-an-operator-is-not-using-the-app-record-the-operator-s-last-activity-timestamp-e-g-on-sign-in-and-periodic-heartbeat-pings-while-the-app-is-open-provide-a-manager-dashboard-that-highlights-inactive-operators-e-g-no-activity-for-n-days-and-allows-exporting-downloading-a-simple-csv-report-of-inactivity",
      "title": "Add usage monitoring to detect when an operator is not using the app: record the operator’s last activity timestamp (e.g., on sign-in and periodic 'heartbeat' pings while the app is open). Provide a manager dashboard that highlights inactive operators (e.g., no activity for N days) and allows exporting/downloading a simple CSV report of inactivity.",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    },
    {
      "id": "feature-provide-analytics-screens-for-managers-showing-trends-and-gaps-using-built-in-metrics-non-llm-counts-over-time-top-categories-areas-departments-approval-rates-average-time-to-decision-for-kaizen-and-inactivity-distribution-include-a-gaps-view-that-flags-areas-departments-operators-with-low-submission-activity-relative-to-others",
      "title": "Provide analytics screens for managers showing trends and gaps using built-in metrics (non-LLM): counts over time, top categories/areas/departments, approval rates, average time-to-decision for Kaizen, and inactivity distribution. Include a 'gaps' view that flags areas/departments/operators with low submission activity relative to others.",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-coherent-distinct-visual-theme-for-the-app-typography-spacing-component-styling-and-page-layout-suitable-for-an-industrial-continuous-improvement-tool-apply-it-consistently-across-login-dashboards-forms-lists-and-detail-pages",
      "title": "Create a coherent, distinct visual theme for the app (typography, spacing, component styling, and page layout) suitable for an industrial continuous-improvement tool. Apply it consistently across login, dashboards, forms, lists, and detail pages.",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-generate-and-include-basic-static-brand-assets-and-render-them-in-the-ui-an-app-logo-and-a-simple-dashboard-illustration-empty-state-illustration-store-generated-images-under-frontend-public-assets-generated-and-reference-them-directly-from-the-frontend-not-via-backend",
      "title": "Generate and include basic static brand assets and render them in the UI: an app logo and a simple dashboard illustration/empty-state illustration. Store generated images under frontend/public/assets/generated and reference them directly from the frontend (not via backend).",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-new-manager-page-that-provides-a-simple-single-screen-overview-of-operator-activity-including-a-sortable-table-of-operators-with-last-activity-time-and-a-derived-days-inactive-value-plus-an-inactivity-threshold-control-that-highlights-operators-as-active-vs-inactive",
      "title": "Create a new manager page that provides a simple, single-screen overview of operator activity, including a sortable table of operators with last activity time and a derived 'days inactive' value, plus an inactivity threshold control that highlights operators as Active vs Inactive.",
      "reqIds": [
        "REQ-12"
      ],
      "version": 1
    },
    {
      "id": "feature-add-navigation-and-routing-for-the-new-manager-operator-activity-overview-page-so-managers-can-access-it-from-the-header-manager-section",
      "title": "Add navigation and routing for the new manager operator-activity overview page so managers can access it from the header manager section.",
      "reqIds": [
        "REQ-13"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-the-login-page-reflects-the-latest-branding-theme-changes-in-production-including-consistent-styling-layout-and-the-correct-rendering-of-the-existing-generated-brand-images-logo-and-illustration-on-the-login-route-and-when-requireauth-renders-the-loginpage-fallback",
      "title": "Ensure the Login page reflects the latest branding/theme changes in production, including consistent styling, layout, and the correct rendering of the existing generated brand images (logo and illustration) on the /login route and when RequireAuth renders the LoginPage fallback.",
      "reqIds": [
        "REQ-14"
      ],
      "version": 1
    },
    {
      "id": "feature-add-clear-manager-facing-guidance-and-navigation-to-handle-kaizen-approvals-rejections-managers-must-be-able-to-easily-find-kaizens-in-submitted-status-and-perform-approve-or-reject-actions-from-the-ui-with-the-required-comment-reason-captured-and-shown-on-the-kaizen-detail-page-after-the-decision",
      "title": "Add clear, manager-facing guidance and navigation to handle Kaizen approvals/rejections: managers must be able to easily find Kaizens in Submitted status and perform Approve or Reject actions from the UI, with the required comment/reason captured and shown on the Kaizen detail page after the decision.",
      "reqIds": [
        "REQ-15"
      ],
      "version": 1
    },
    {
      "id": "feature-use-explicit-english-user-facing-copy-in-the-manager-decision-area-to-explain-how-approval-rejection-works-who-can-do-it-when-it-is-available-and-that-a-comment-reason-is-required",
      "title": "Use explicit English user-facing copy in the manager decision area to explain how approval/rejection works (who can do it, when it is available, and that a comment/reason is required).",
      "reqIds": [
        "REQ-16"
      ],
      "version": 1
    },
    {
      "id": "feature-investigate-and-fix-the-current-build-deployment-failure-so-the-application-can-compile-and-deploy-successfully-without-internal-errors",
      "title": "Investigate and fix the current build/deployment failure so the application can compile and deploy successfully without internal errors.",
      "reqIds": [
        "REQ-17"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-login-experience-to-present-two-distinct-internet-identity-login-entry-points-sign-in-as-operator-and-sign-in-as-manager-so-users-can-explicitly-choose-their-intended-role-path-at-login",
      "title": "Update the login experience to present two distinct Internet Identity login entry points: “Sign in as Operator” and “Sign in as Manager”, so users can explicitly choose their intended role path at login.",
      "reqIds": [
        "REQ-18"
      ],
      "version": 1
    },
    {
      "id": "feature-persist-the-user-s-selected-login-option-operator-vs-manager-for-the-current-browser-session-and-use-it-to-control-the-post-login-redirect-behavior",
      "title": "Persist the user’s selected login option (Operator vs Manager) for the current browser session and use it to control the post-login redirect behavior.",
      "reqIds": [
        "REQ-19"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-the-two-option-login-ui-is-used-consistently-whether-the-user-visits-the-login-route-directly-or-is-shown-the-login-ui-via-the-requireauth-unauthenticated-fallback",
      "title": "Ensure the two-option login UI is used consistently whether the user visits the /login route directly or is shown the login UI via the RequireAuth unauthenticated fallback.",
      "reqIds": [
        "REQ-20"
      ],
      "version": 1
    },
    {
      "id": "feature-add-frontend-manager-ui-to-review-newly-submitted-observations-and-perform-approve-reject-actions-with-a-required-comment-reason-using-clear-english-guidance-and-immediate-ui-refresh-after-the-action-completes",
      "title": "Add frontend manager UI to review newly submitted Observations and perform Approve/Reject actions with a required comment/reason, using clear English guidance and immediate UI refresh after the action completes.",
      "reqIds": [
        "REQ-22"
      ],
      "version": 1
    },
    {
      "id": "feature-update-operator-facing-observation-list-detail-screens-so-operators-can-see-manager-decisions-status-manager-comment-reason-for-their-submitted-hazards-susa-observations",
      "title": "Update operator-facing Observation list/detail screens so operators can see manager decisions (status + manager comment/reason) for their submitted Hazards/SUSA Observations.",
      "reqIds": [
        "REQ-23"
      ],
      "version": 1
    },
    {
      "id": "feature-add-react-query-hooks-mutations-for-observation-approval-rejection-and-ensure-relevant-queries-observations-list-detail-dashboard-counts-if-applicable-are-invalidated-refetched-after-manager-actions",
      "title": "Add React Query hooks/mutations for Observation approval/rejection and ensure relevant queries (Observations list/detail, Dashboard counts if applicable) are invalidated/refetched after manager actions.",
      "reqIds": [
        "REQ-24"
      ],
      "version": 1
    },
    {
      "id": "feature-add-the-two-uploaded-images-to-the-frontend-as-static-generated-assets-under-frontend-public-assets-generated-so-they-can-be-referenced-directly-by-the-login-page",
      "title": "Add the two uploaded images to the frontend as static generated assets under `frontend/public/assets/generated` so they can be referenced directly by the Login page.",
      "reqIds": [
        "REQ-25"
      ],
      "version": 1
    },
    {
      "id": "feature-update-frontend-src-pages-loginpage-tsx-to-use-the-uploaded-itc-limited-logo-image-instead-of-the-current-assets-generated-kaizen-logo-dim-512x512-png",
      "title": "Update `frontend/src/pages/LoginPage.tsx` to use the uploaded ITC Limited logo image instead of the current `/assets/generated/kaizen-logo.dim_512x512.png`.",
      "reqIds": [
        "REQ-26"
      ],
      "version": 1
    },
    {
      "id": "feature-update-frontend-src-pages-loginpage-tsx-copy-so-the-primary-title-text-reads-exactly-itc-khordha-safetyhub-english",
      "title": "Update `frontend/src/pages/LoginPage.tsx` copy so the primary title text reads exactly: \"ITC Khordha Safetyhub\" (English).",
      "reqIds": [
        "REQ-27"
      ],
      "version": 1
    },
    {
      "id": "feature-update-frontend-src-pages-loginpage-tsx-to-use-the-uploaded-fs-line-food-processing-plant-photo-instead-of-the-current-assets-generated-kaizen-dashboard-illustration-dim-1200x600-png",
      "title": "Update `frontend/src/pages/LoginPage.tsx` to use the uploaded FS line food-processing plant photo instead of the current `/assets/generated/kaizen-dashboard-illustration.dim_1200x600.png`.",
      "reqIds": [
        "REQ-28"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-the-deployed-frontend-uses-the-exact-itc-logo-image-the-user-provided-by-placing-replacing-the-static-asset-at-frontend-public-assets-generated-itc-limited-logo-dim-512x512-png-and-verifying-that-the-rendered-logo-matches-that-file-not-an-older-cached-or-different-image",
      "title": "Ensure the deployed frontend uses the exact ITC logo image the user provided by placing/replacing the static asset at `frontend/public/assets/generated/itc-limited-logo.dim_512x512.png` and verifying that the rendered logo matches that file (not an older cached or different image).",
      "reqIds": [
        "REQ-29"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-authenticated-app-header-branding-to-use-the-same-itc-logo-asset-as-the-login-page-by-replacing-the-current-header-logo-reference-assets-generated-kaizen-logo-dim-512x512-png-with-assets-generated-itc-limited-logo-dim-512x512-png-in-frontend-src-components-layout-appheader-tsx",
      "title": "Update the authenticated app header branding to use the same ITC logo asset as the login page by replacing the current header logo reference (`/assets/generated/kaizen-logo.dim_512x512.png`) with `/assets/generated/itc-limited-logo.dim_512x512.png` in `frontend/src/components/layout/AppHeader.tsx`.",
      "reqIds": [
        "REQ-30"
      ],
      "version": 1
    },
    {
      "id": "feature-move-the-download-csv-export-button-on-the-manager-inactivity-dashboard-to-a-more-prominent-location-place-it-in-the-page-header-row-next-to-the-inactivity-dashboard-title-description-area-aligned-to-the-right-instead-of-inside-the-inactive-operators-card-header-the-button-must-remain-visible-only-when-there-is-at-least-one-inactive-operator-to-export-and-it-must-continue-to-export-the-same-csv-content-and-filename-format-currently-used",
      "title": "Move the \"Download CSV\" export button on the manager Inactivity Dashboard to a more prominent location: place it in the page header row next to the \"Inactivity Dashboard\" title/description area, aligned to the right, instead of inside the \"Inactive Operators\" card header. The button must remain visible only when there is at least one inactive operator to export, and it must continue to export the same CSV content and filename format currently used.",
      "reqIds": [
        "REQ-31"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-an-application-wide-maintenance-mode-that-allows-admins-managers-to-make-the-app-effectively-not-live-for-regular-users-when-maintenance-mode-is-enabled-all-non-admin-users-must-be-prevented-from-using-authenticated-app-functionality-and-must-instead-see-a-dedicated-maintenance-screen-with-clear-english-messaging",
      "title": "Implement an application-wide “Maintenance Mode” that allows admins/managers to make the app effectively “not live” for regular users: when Maintenance Mode is enabled, all non-admin users must be prevented from using authenticated app functionality and must instead see a dedicated Maintenance screen with clear English messaging.",
      "reqIds": [
        "REQ-32"
      ],
      "version": 1
    },
    {
      "id": "feature-provide-an-admin-only-ui-control-to-enable-disable-maintenance-mode-from-within-the-app",
      "title": "Provide an admin-only UI control to enable/disable Maintenance Mode from within the app.",
      "reqIds": [
        "REQ-33"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-maintenance-mode-is-enforced-consistently-across-the-app-entry-points-including-when-unauthenticated-users-hit-protected-routes-and-when-authenticated-users-navigate-between-routes",
      "title": "Ensure Maintenance Mode is enforced consistently across the app entry points, including when unauthenticated users hit protected routes and when authenticated users navigate between routes.",
      "reqIds": [
        "REQ-35"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-login-flow-so-that-clicking-sign-in-as-manager-does-not-navigate-to-manager-pages-unless-the-signed-in-principal-actually-has-the-manager-admin-permission-if-the-user-is-not-a-manager-admin-show-a-clear-english-message-explaining-that-manager-access-must-be-assigned-by-an-admin-and-then-route-the-user-to-the-operator-dashboard",
      "title": "Update the login flow so that clicking “Sign in as Manager” does not navigate to manager pages unless the signed-in principal actually has the Manager/Admin permission; if the user is not a Manager/Admin, show a clear English message explaining that manager access must be assigned by an Admin and then route the user to the Operator dashboard.",
      "reqIds": [
        "REQ-36"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-dedicated-in-app-admin-setup-screen-english-ui-that-is-shown-only-when-the-signed-in-user-is-not-an-admin-and-the-backend-indicates-there-is-currently-no-admin-manager-configured-the-screen-must-provide-a-single-action-to-run-the-one-time-admin-bootstrap-and-then-refresh-the-app-s-admin-status",
      "title": "Add a dedicated in-app Admin Setup screen (English UI) that is shown only when the signed-in user is not an Admin and the backend indicates there is currently no Admin/Manager configured; the screen must provide a single action to run the one-time Admin bootstrap and then refresh the app’s admin status.",
      "reqIds": [
        "REQ-38"
      ],
      "version": 1
    },
    {
      "id": "feature-do-not-implement-username-password-based-authentication-instead-ensure-the-ui-copy-explicitly-states-that-authentication-is-handled-via-internet-identity-and-that-admins-manage-access-by-assigning-roles-to-principals",
      "title": "Do not implement username/password-based authentication; instead, ensure the UI copy explicitly states that authentication is handled via Internet Identity and that Admins manage access by assigning roles to principals.",
      "reqIds": [
        "REQ-39"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-login-page-to-add-a-third-internet-identity-entry-point-labeled-sign-in-as-admin-alongside-the-existing-sign-in-as-operator-and-sign-in-as-manager-options",
      "title": "Update the Login page to add a third Internet Identity entry point labeled “Sign in as Admin” alongside the existing “Sign in as Operator” and “Sign in as Manager” options.",
      "reqIds": [
        "REQ-40"
      ],
      "version": 1
    },
    {
      "id": "feature-extend-the-session-stored-login-intent-logic-to-support-an-admin-intent-and-implement-post-login-redirect-behavior-for-the-new-admin-intent",
      "title": "Extend the session-stored login intent logic to support an “admin” intent and implement post-login redirect behavior for the new admin intent.",
      "reqIds": [
        "REQ-41"
      ],
      "version": 1
    },
    {
      "id": "feature-add-clear-english-guidance-in-the-admin-area-that-user-access-is-managed-by-assigning-roles-to-internet-identity-principals-not-by-creating-usernames-passwords-and-explain-the-onboarding-steps-for-operators-and-managers",
      "title": "Add clear English guidance in the admin area that user access is managed by assigning roles to Internet Identity principals (not by creating usernames/passwords), and explain the onboarding steps for Operators and Managers.",
      "reqIds": [
        "REQ-42"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-frontend-login-experience-to-support-password-based-role-unlocking-using-clear-english-messaging-and-without-editing-immutable-authentication-hooks",
      "title": "Update the frontend login experience to support password-based role unlocking, using clear English messaging and without editing immutable authentication hooks.",
      "reqIds": [
        "REQ-46"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-new-admin-only-ui-screen-for-password-credential-management-set-reset-disable-and-link-it-from-the-existing-admin-navigation",
      "title": "Add a new admin-only UI screen for password credential management (set/reset/disable) and link it from the existing admin navigation.",
      "reqIds": [
        "REQ-47"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-login-ux-to-remove-all-internet-identity-role-entry-points-sign-in-as-operator-manager-admin-and-replace-them-with-a-simple-login-id-password-form-that-supports-signing-in-as-operator-or-manager-and-admin-if-present-using-clear-english-labels-and-validation",
      "title": "Update the login UX to remove all Internet Identity role entry points (“Sign in as Operator/Manager/Admin”) and replace them with a simple Login ID + Password form that supports signing in as Operator or Manager (and Admin if present), using clear English labels and validation.",
      "reqIds": [
        "REQ-49"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-admin-credentials-screen-to-manage-operator-and-manager-login-ids-and-passwords-create-reset-enable-disable-with-clear-english-ui-text-referring-to-login-id-not-internet-identity-and-ensuring-operator-manager-roles-are-selectable",
      "title": "Update the Admin “Credentials” screen to manage Operator and Manager login IDs and passwords (create, reset, enable/disable), with clear English UI text referring to “Login ID” (not “Internet Identity”) and ensuring Operator/Manager roles are selectable.",
      "reqIds": [
        "REQ-51"
      ],
      "version": 1
    },
    {
      "id": "feature-adjust-authentication-gating-so-the-app-works-end-to-end-with-the-new-login-id-password-flow-while-keeping-immutable-authentication-hooks-untouched-ensure-protected-routes-consistently-redirect-unauthenticated-users-to-the-updated-login-page-and-that-logout-clears-any-credential-unlock-session-flags",
      "title": "Adjust authentication gating so the app works end-to-end with the new Login ID + Password flow while keeping immutable authentication hooks untouched; ensure protected routes consistently redirect unauthenticated users to the updated /login page and that logout clears any credential-unlock/session flags.",
      "reqIds": [
        "REQ-52"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-login-screen-to-include-an-explicit-admin-option-alongside-the-existing-operator-and-manager-options-so-users-can-choose-admin-on-the-login-screen",
      "title": "Update the Login screen to include an explicit “Admin” option alongside the existing Operator and Manager options, so users can choose Admin on the login screen.",
      "reqIds": [
        "REQ-53"
      ],
      "version": 1
    },
    {
      "id": "feature-when-the-user-signs-in-successfully-and-their-selected-role-on-the-login-screen-is-admin-navigate-them-directly-to-the-admin-credentials-management-page-admin-credentials-for-non-admin-selections-keep-the-existing-post-login-navigation-behavior",
      "title": "When the user signs in successfully and their selected role on the Login screen is “Admin”, navigate them directly to the Admin credentials management page (/admin/credentials). For non-admin selections, keep the existing post-login navigation behavior.",
      "reqIds": [
        "REQ-54"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-a-first-time-default-admin-credential-can-successfully-sign-in-when-no-credentials-exist-yet-by-seeding-a-default-login-id-admin-with-password-pass-only-if-the-credential-store-is-empty-and-ensure-the-seeded-admin-can-reach-admin-credentials-after-login",
      "title": "Ensure a first-time default Admin credential can successfully sign in when no credentials exist yet by seeding a default Login ID \"admin\" with password \"pass\" only if the credential store is empty, and ensure the seeded Admin can reach /admin/credentials after login.",
      "reqIds": [
        "REQ-56"
      ],
      "version": 1
    },
    {
      "id": "feature-add-explicit-admin-support-to-the-password-credential-role-system-so-that-selecting-admin-on-the-login-page-is-validated-against-the-authenticated-credential-s-role-and-access-is-denied-with-clear-english-messaging-when-the-selected-role-does-not-match-the-credential-s-role",
      "title": "Add explicit Admin support to the password-credential role system so that selecting \"Admin\" on the login page is validated against the authenticated credential’s role, and access is denied with clear English messaging when the selected role does not match the credential’s role.",
      "reqIds": [
        "REQ-57"
      ],
      "version": 1
    },
    {
      "id": "feature-improve-login-failure-diagnostics-in-the-login-page-by-surfacing-backend-error-reasons-in-a-user-safe-way-still-in-english-and-add-a-specific-message-when-the-credential-exists-but-is-disabled",
      "title": "Improve login failure diagnostics in the Login page by surfacing backend error reasons in a user-safe way (still in English), and add a specific message when the credential exists but is disabled.",
      "reqIds": [
        "REQ-58"
      ],
      "version": 1
    },
    {
      "id": "feature-improve-the-admin-credentials-ui-copy-labels-to-be-clearer-and-consistently-use-the-term-login-id-not-ambiguous-credential-including-clearer-action-labels-for-creating-accounts-resetting-passwords-and-enabling-disabling-accounts",
      "title": "Improve the Admin Credentials UI copy/labels to be clearer and consistently use the term \"Login ID\" (not ambiguous \"Credential\"), including clearer action labels for creating accounts, resetting passwords, and enabling/disabling accounts.",
      "reqIds": [
        "REQ-60"
      ],
      "version": 1
    },
    {
      "id": "feature-add-admin-profile-self-service-actions-to-reset-password-and-disable-the-currently-signed-in-admin-account-using-clear-english-confirmations-and-warnings-to-prevent-accidental-lockout",
      "title": "Add Admin 'profile' self-service actions to reset password and disable the currently signed-in admin account, using clear English confirmations and warnings to prevent accidental lockout.",
      "reqIds": [
        "REQ-61"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-admin-credentials-management-page-authorization-form-to-sanitize-input-trim-whitespace-and-display-user-safe-english-error-messages-when-admin-authorization-fails-consistent-with-the-login-page-messaging",
      "title": "Update the Admin Credentials Management page authorization form to sanitize input (trim whitespace) and display user-safe English error messages when admin authorization fails, consistent with the login page messaging.",
      "reqIds": [
        "REQ-64"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-admin-authorization-form-to-prefill-the-admin-login-id-as-admin-and-the-password-as-1234-when-the-page-first-loads-while-still-allowing-the-user-to-edit-both-fields-before-submitting",
      "title": "Update the Admin Authorization form to prefill the Admin Login ID as \"admin\" and the Password as \"1234\" when the page first loads, while still allowing the user to edit both fields before submitting.",
      "reqIds": [
        "REQ-65"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Role-based app for operators and managers (authentication + permissions)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Operator forms to submit Q SUSA / Q hazards / safety hazards observations",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Kaizen suggestion submission with approval/rejection workflow and automatic status updates",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Usage monitoring and timely notifications when an operator is not using the app",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "On Kaizen approval, assign to concerned department and allow department to enter required tools/materials",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "After Kaizen implementation, allow photo upload as proof of concept and implementation",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "AI analytics to identify what analysis operators can do and highlight gaps/trends",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-8",
      "summary": "Add a simple manager dashboard UI to more easily review operator activity",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-9",
      "summary": "Add a manager/admin-only backend query that returns a complete operator activity list (not just inactive operators) so managers can review overall operator usage in one place. The returned data must include each operator principal, their lastActivity timestamp, and (when available) the operator's saved profile name/role from userProfiles.",
      "reqIds": [
        "REQ-11"
      ],
      "status": "pending"
    },
    {
      "id": "AR-10",
      "summary": "Provide distinct Operator vs Manager login options/entry points (two login options) in the login flow/UI",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-11",
      "summary": "Manager notifications + approve/reject workflow for operator-submitted Kaizen, hazards, and SUSAs, with status/decision visible to operators after manager action",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-12",
      "summary": "Extend the Observation data model and backend APIs so that manager approvals/rejections are supported for operator-submitted Observations (Q SUSA, Q Hazards, Safety Hazards), including storing the decision outcome and a required manager comment/reason.",
      "reqIds": [
        "REQ-21"
      ],
      "status": "pending"
    },
    {
      "id": "AR-13",
      "summary": "Move/reposition the Export button on the manager dashboard to a different location (per user preference)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-14",
      "summary": "Unpublish/rollback the current production deployment (make the app not live) to allow further modifications before going live again",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-17",
      "summary": "Add backend APIs for reading and updating Maintenance Mode, restricted so only admins/managers can change it, while any authenticated user can read whether Maintenance Mode is enabled (to allow the frontend to decide what to show).",
      "reqIds": [
        "REQ-34"
      ],
      "status": "pending"
    },
    {
      "id": "AR-18",
      "summary": "Add an Admin login/admin page to manage Manager vs Operator credentials (user ID/password) and access, since Manager login via the current flow is not working/visible for the user.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-20",
      "summary": "Add an Admin bootstrap capability so the app can recover from the “no admin exists” situation: provide backend APIs to (1) detect whether any Admin/Manager exists and (2) allow a one-time bootstrap action to grant the caller Admin/Manager permissions only if no Admin/Manager exists yet.",
      "reqIds": [
        "REQ-37"
      ],
      "status": "pending"
    },
    {
      "id": "AR-21",
      "summary": "Add a third login option: \"Sign in as Admin\" with initial credentials (admin/pass), and an Admin page to create/manage username+password accounts for Managers and Operators (password-based authentication)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-22",
      "summary": "Implement username/password-based authentication (Admin/Manager/Operator) and credential management, replacing/superseding the current Internet Identity-only login flow",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-23",
      "summary": "Add backend support for password credentials that can unlock the caller’s app role (Operator/User vs Manager/Admin) after successful password verification, while keeping the existing Internet Identity principal as the underlying identity.",
      "reqIds": [
        "REQ-43"
      ],
      "status": "pending"
    },
    {
      "id": "AR-24",
      "summary": "Implement a secure admin bootstrap for the password login system so that the app can be initialized when no admin credential exists yet.",
      "reqIds": [
        "REQ-44"
      ],
      "status": "pending"
    },
    {
      "id": "AR-25",
      "summary": "Add admin-only backend APIs to manage password credentials for users/roles (create/update/reset/disable), and ensure they are restricted to Admin/Manager callers.",
      "reqIds": [
        "REQ-45"
      ],
      "status": "pending"
    },
    {
      "id": "AR-28",
      "summary": "Add any required Motoko state upgrade/migration logic to preserve existing canister state while introducing credential storage for the password login system.",
      "reqIds": [
        "REQ-48"
      ],
      "status": "pending"
    },
    {
      "id": "AR-30",
      "summary": "Implement backend credential storage and APIs in the single Motoko actor to support password authentication and admin-managed credentials for Operator and Manager login IDs, including: verify credentials for sign-in and admin-only CRUD operations (create, reset password, enable/disable, list).",
      "reqIds": [
        "REQ-50"
      ],
      "status": "pending"
    },
    {
      "id": "AR-31",
      "summary": "Add an Admin entry point/panel on the login screen and set default Admin credentials to username=admin and password=pass",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-34",
      "summary": "Seed a default Admin credential in the backend with Login ID \"admin\" and password \"pass\" if (and only if) no credentials exist yet, so the app always has an initial Admin login for first-time setup.",
      "reqIds": [
        "REQ-55"
      ],
      "status": "pending"
    },
    {
      "id": "AR-35",
      "summary": "Fix the admin credential flow so that a user who successfully signs in with an Admin Login ID + Password can create new Login IDs (credentials) without receiving an incorrect \"Only admins can create IDs\"/unauthorized error.",
      "reqIds": [
        "REQ-59"
      ],
      "status": "pending"
    },
    {
      "id": "AR-36",
      "summary": "Fix backend Admin authorization so the default seeded Admin credential (Login ID \"admin\", Password \"pass\") works on the Admin Authorization form even on a fresh install when the credential store is empty.",
      "reqIds": [
        "REQ-62"
      ],
      "status": "pending"
    },
    {
      "id": "AR-37",
      "summary": "Improve backend credential validation error reasons so the frontend can display correct English messages for: invalid credentials, disabled Login ID, and selected role mismatch (for both validateCredentials and authorizeAdmin).",
      "reqIds": [
        "REQ-63"
      ],
      "status": "pending"
    },
    {
      "id": "AR-38",
      "summary": "Update Admin Authorization default credentials so Admin Login ID is \"admin\" and password is \"1234\" (and ensure admin authorization accepts it)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-39",
      "summary": "Remove or streamline the extra Admin Authorization password prompt after already signing in to the Admin profile (avoid double password entry)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-41",
      "summary": "Change the backend’s default seeded Admin credential password to \"1234\" (Login ID remains \"admin\"), so that a fresh installation can authorize admin actions using admin/1234.",
      "reqIds": [
        "REQ-66"
      ],
      "status": "pending"
    },
    {
      "id": "AR-42",
      "summary": "Ensure the backend Admin Authorization endpoint can successfully authorize on a fresh install even if it is called before any other credential-validation endpoint, by applying the same default-admin seeding behavior when the credential store is empty.",
      "reqIds": [
        "REQ-67"
      ],
      "status": "pending"
    }
  ],
  "projectName": "Operator/Manager Safety & Kaizen Web App (Submissions, Approvals, Assignments, Proof Photos, Usage & Analytics)",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}